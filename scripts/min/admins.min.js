!function(n){function t(t){var a,e=t.find(".table").get(0),l=t.find("[data-target='map-type']").val();if(a="usa"===l?t.find("[data-target='json-usa']").val():t.find("[data-target='json-world']").val()){var i=JSON.parse(a);o(t,e,i,l)}else{var r=snowball.pluginsUrl+"/modules/choropleth/precipitation-"+l+".json";n.getJSON(r,function(n){o(t,e,n,l)})}}function a(t,a){var o,e,l=(t.find(".table").get(0),t.data("hot"));if("usa"===a?(e=t.find("[data-target='json-usa']").val(),o=["fips","State","Value"]):(e=t.find("[data-target='json-world']").val(),o=["fips","Country","Value"]),e){var i=JSON.parse(e);l.updateSettings({colHeaders:o}),l.loadData(i),l.render()}else{var r=snowball.pluginsUrl+"/modules/choropleth/precipitation-"+a+".json";n.getJSON(r,function(n){l.updateSettings({colHeaders:o}),l.loadData(n),l.render()})}}function o(n,t,a,o){var l=["fips","Country","Value"];"usa"===o&&(l=["fips","State","Value"]);var i=new Handsontable(t,{data:a,rowHeaders:!1,fixedRowsTop:0,colHeaders:l,columns:[{data:"fips",readOnly:!0},{data:"State",readOnly:!0},{data:"Value"}],columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(t,a){var o=this.getData();e(n,o),"loadData"!==a&&n.trigger("render")},afterLoadData:function(){var t=this.getData();e(n,t)},afterInit:function(){n.trigger("render")}});n.data("hot",i)}function e(n,t,a){var o=t,e=JSON.stringify(o),l=n.find("[data-target='map-type']").val();n.find("[data-target='json-"+l+"']").val(e)}n("#snowball-main").on("open",".snowball-block-choropleth",function(){var a=n(this),o=a.find("[data-target='quantize']").val();n(this).find(".quantize-output").text(o),t(a)}),n("#snowball-main").on("rendered",".snowball-block-choropleth",function(){var t=n(this),a=t.find(".snowball-preview"),o=a.contents().find(".map"),e=a[0].contentWindow.drawMap;o&&e&&e(a.contents().find(".snowball-block-choropleth"))}),n("#snowball-main").on("change",".snowball-block-choropleth [data-target='map-type']",function(){var t=n(this).closest(".snowball-block-choropleth"),o=n(this).val();a(t,o)}),n("#snowball-main").on("input change",".snowball-block-choropleth [data-target='quantize']",function(){var t=n(this).closest(".snowball-block-choropleth"),a=(t.data("hot"),n(this).val());t.find(".quantize-output").text(a)})}(jQuery),function(n){function t(n){var t=/google.com\/maps\/.*@(-?\d+.\d+),(-?\d+.\d+),(\d+)([mz])/,o=t.exec(n);if(null!==o){var e=o[3],l=o[4],i="600x400";return"m"===l?(l="satellite",e=a(e)):l="roadmap",{lat:o[1],lon:o[2],maptype:l,zoom:e,size:i}}}function a(n){var t=56819712,a=t/parseInt(n,10);return a=Math.round(1+Math.log(a)/Math.LN2)}n("#snowball-main").on("open",".snowball-block-googlemaps",function(){var t=n(this).find(".zoom").val();n(this).find(".zoom-output").text(t)}),n("#snowball-main").on("change keyup",".snowball-block-googlemaps .map-user",function(){var a=n(this).closest(".snowball-block-googlemaps"),o=n(this).val(),e=t(o);a.find("[data-target='lat']").val(e.lat),a.find("[data-target='lon']").val(e.lon),a.find("[data-target='zoom']").val(e.zoom),a.find(".zoom-output").text(e.zoom),a.find("[data-target='maptype'][value='"+e.maptype+"']").prop("checked",!0),a.trigger("render")}),n("#snowball-main").on("input change",".snowball-block-googlemaps .zoom",function(){var t=n(this).closest(".snowball-block-googlemaps"),a=n(this).val();t.find(".zoom-output").text(a)})}(jQuery),function(n){n("#snowball-main").on("open",".snowball-block-html",function(){var t=n(this),a=t.find("textarea"),o=CodeMirror.fromTextArea(a[0],{mode:"htmlmixed",lineNumbers:!0,lineWrapping:!0,indentUnit:2,tabSize:2,theme:"monokai"});o.setSize("100%","100%"),o.on("change",function(){o.save(),a.trigger("change")})})}(jQuery),function(n){n("#snowball-main").on("open",".snowball-block-image",function(){var t=n(this).find(".img-border-radius").val()+"%";n(this).find(".img-border-radius-output").text(t)}),n(document).ready(function(){var t;n("#snowball-main").on("click",".snowball-block-image .upload-image-button",function(){var a=n(this).closest(".snowball-block");return t=n(".snowball-block").index(a),tb_show("","media-upload.php?type=image&TB_iframe=true"),window.original_send_to_editor=window.send_to_editor,window.send_to_editor=function(a){var o=n(".snowball-block").eq(t);imgurl=n("img",a).attr("src"),o.find(".upload-image").val(imgurl).trigger("change"),tb_remove(),window.send_to_editor=window.original_send_to_editor},!1}),n("#snowball-main").on("input change",".snowball-block-image .img-border-radius",function(){var t=n(this).closest(".snowball-block-image"),a=n(this).val()+"%";t.find(".img-border-radius-output").text(a),t.trigger("render")})})}(jQuery),function(n){function t(t){var o=t.find(".table").get(0),e=t.find("[data-target='json']").val();if(e){var l=JSON.parse(e);a(t,o,l)}else{var i=snowball.pluginsUrl+"/modules/scatterplot/snowline.json";n.getJSON(i,function(n){a(t,o,n)})}}function a(n,t,a){var e=["Label","X","Y"],l=[{data:"Label",type:"text"},{data:"X",type:"numeric"},{data:"Y",type:"numeric"}],i=new Handsontable(t,{data:a,rowHeaders:!1,fixedRowsTop:0,colHeaders:e,columns:l,columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(t,a){var e=this.getData();o(n,e),"loadData"!==a&&n.trigger("render")},afterLoadData:function(){var t=this.getData();o(n,t)},afterInit:function(){n.trigger("render")}});n.data("hot",i)}function o(n,t,a){var o=t,e=JSON.stringify(o);n.find("[data-target='json']").val(e)}n("#snowball-main").on("open",".snowball-block-scatterplot",function(){var a=n(this),o=n(this).find(".size").val()+"px";n(this).find(".size-output").text(o),t(a)}),n("#snowball-main").on("input change",".snowball-block-scatterplot .size",function(){var t=n(this).closest(".snowball-block-scatterplot"),a=n(this).val()+"px";t.find(".size-output").text(a),t.trigger("render")}),n("#snowball-main").on("rendered",".snowball-block-scatterplot",function(){var t=n(this),a=t.find(".snowball-preview"),o=a.contents().find(".chart"),e=a[0].contentWindow.drawScatterplot;o&&e&&e(a.contents().find(".snowball-block-scatterplot"))})}(jQuery),function(n){function t(n){var t;if(n&&n.indexOf("api.soundcloud.com/tracks")>=0){t=/api.soundcloud.com\/tracks\/(\d+&)/;var a=t.exec(n);if(a[1])return a[1]}return""}function a(n,t){var a="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/";a=a+n+"&show_reposts=false&auto_play=false";for(var o in t)t.hasOwnProperty(o)&&(a=a+"&"+o+"="+t[o]);return a}n("#snowball-main").on("open",".snowball-block-soundcloud",function(){var o=n(this).closest(".snowball-block-soundcloud"),e=n(o).find("input[data-target=embed-link]").val(),l=(n(o).find(".snowball-preview").contents().find(".embed-iframe"),n(o).find("input[data-target=show-user]").prop("checked")),i=n(o).find("input[data-target=show-comments]").prop("checked"),r=n(o).find("input[data-target=visual]").prop("checked"),s={show_user:l,show_comments:i,visual:r},d=t(e),c=a(d,s);n(o).find(".track-url").val(c),o.trigger("render")}),n("#snowball-main").on("change keyup",".snowball-block-soundcloud",function(){var o=n(this).closest(".snowball-block-soundcloud"),e=n(o).find("input[data-target=embed-link]").val(),l=(n(o).find(".snowball-preview").contents().find(".embed-iframe"),n(o).find("input[data-target=show-user]").prop("checked")),i=n(o).find("input[data-target=show-comments]").prop("checked"),r=n(o).find("input[data-target=visual]").prop("checked"),s={show_user:l,show_comments:i,visual:r},d=t(e),c=a(d,s);n(o).find(".track-url").val(c),o.trigger("render")})}(jQuery),function(n){var t=0;n("#snowball-main").on("open",".snowball-block-splash",function(){var a=n(this).find("textarea"),o="snowball-block-splash-textarea-"+t;a.attr("id",o),t++,quicktags({id:o,buttons:"strong,em,link,blockquote,del,code,close"}),QTags._buttonsInit()}),n("#snowball-main").on("click",".snowball-block-splash .quicktags-toolbar .button",function(){n(this).closest(".snowball-block").trigger("render")}),n(document).ready(function(){var t;n("#snowball-main").on("click",".snowball-block-splash .upload-image-button",function(){var a=n(this).closest(".snowball-block");return t=n(".snowball-block").index(a),tb_show("","media-upload.php?type=image&TB_iframe=true"),window.original_send_to_editor=window.send_to_editor,window.send_to_editor=function(a){var o=n(".snowball-block").eq(t);imgurl=n("img",a).attr("src"),o.find(".upload-image").val(imgurl).trigger("change"),tb_remove(),window.send_to_editor=window.original_send_to_editor},!1})})}(jQuery),function(n){function t(n,t){var o=JSON.stringify(t);n.find("[data-target='JSON']").val(o),n.find("[data-target='HTML']").val(a(t)),n.trigger("render")}function a(n){for(var t="  <table>\n",a=n.length,o=0;a>o;o++){0===o?t+="    <thead>\n":1===o&&(t+="    </thead>\n    <tbody>\n"),t+="      <tr>\n";for(var e=0;e<n[o].length;e++)null===n[o][e]&&(n[o][e]=""),t=0===o?t+"        <th>"+n[o][e]+"</th>\n":t+"        <td>"+n[o][e]+"</td>\n";t+="      </tr>\n"}return t+="    </tbody>\n  </table>"}n("#snowball-main").on("open",".snowball-block-table",function(){{var a=n(this),o=a.find(".table").get(0),e=JSON.parse(a.find("[data-target='JSON']").val());new Handsontable(o,{data:e,rowHeaders:!1,fixedRowsTop:1,colHeaders:!0,columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(n){t(a,e)},afterCreateRow:function(n){t(a,e)},afterCreateCol:function(n){t(a,e)},afterRemoveRow:function(n){t(a,e)},afterRemoveCol:function(n){t(a,e)}})}})}(jQuery),function(n){var t=0;QTags.addButton("eg_hr","hr","<hr />","","h","Horizontal rule line",70),n("#snowball-main").on("open",".snowball-block-text",function(){var a=n(this).find("textarea"),o="snowball-block-text-textarea-"+t;a.attr("id",o),t++,quicktags({id:o,buttons:"strong,em,link,blockquote,del,code,ul,ol,li,code,close"}),QTags._buttonsInit()}),n("#snowball-main").on("click",".snowball-block-text .quicktags-toolbar .button",function(){n(this).closest(".snowball-block").trigger("render")})}(jQuery),function(n){function t(n){var t;t=n.indexOf("embed")>=0?/vine.co\/v\/(.*)\/embed/:/vine.co\/v\/(.*)/;var a=t.exec(n);return a[1]}n("#snowball-main").on("open",".snowball-block-vine",function(){var a=n(this).find(".video-url").val(),o=t(a);n(this).find(".video-id").val(o),n(this).trigger("render")}),n("#snowball-main").on("change keyup",".snowball-block-vine .video-url",function(){var a=n(this).closest(".snowball-block-vine"),o=n(this).val(),e=t(o);a.find(".video-id").val(e),a.trigger("render")})}(jQuery),function(n){function t(n){var t;t=n.indexOf("embed")>=0?/youtube.com.*embed\/(\S*)"/:/youtube.com.*v=(.*)/;var a=t.exec(n);return a[1]}n("#snowball-main").on("open",".snowball-block-youtube",function(){var a=n(this).find(".video-url").val(),o=t(a);n(this).find(".video-id").val(o),n(this).trigger("render")}),n("#snowball-main").on("change keyup",".snowball-block-youtube .video-url",function(){var a=n(this).closest(".snowball-block-youtube"),o=n(this).val(),e=t(o);a.find(".video-id").val(e),a.trigger("render")})}(jQuery);
//# sourceMappingURL=admins.min.js.map